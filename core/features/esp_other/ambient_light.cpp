#include "../features.hpp"

void  visual::ambient_light::run() {
	config_system.item.ambient ? config_system.item.ambient : !config_system.item.ambient;

	static auto red = interfaces::console->get_convar("mat_ambient_light_r");
	static auto green = interfaces::console->get_convar("mat_ambient_light_g");
	static auto blue = interfaces::console->get_convar("mat_ambient_light_b");

	//int2float
	float old_red = red->get_int();
	float old_green = green->get_int();
	float old_blue = blue->get_int();

	if (config_system.item.ambient) {
		red->set_value(config_system.item.clr_ambient[0]);
		green->set_value(config_system.item.clr_ambient[1]);
		blue->set_value(config_system.item.clr_ambient[2]);
	}

	if (!config_system.item.ambient) {
		red->set_value(old_red);
		green->set_value(old_green);
		blue->set_value(old_blue);
	}
}














































































































































































































